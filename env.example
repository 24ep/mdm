# ============================================================================
# Docker Compose Port Mapping Reference
# ============================================================================
# App (Next.js):          8301 (host) -> 8301 (container)
# PostgREST API:          8302 (host) -> 3000 (container)
# PostgreSQL:             8303 (host) -> 5432 (container)
# MinIO (S3 API):         8304 (host) -> 9000 (container)
# MinIO Console:          8305 (host) -> 9001 (container)
# Vault:                  8306 (host) -> 8200 (container)
# Redis:                  8307 (host) -> 6379 (container)
# ============================================================================
# NOTE: When running with Docker Compose, use the "inside container" values
# for server-side variables and "remote access" values for NEXT_PUBLIC_* variables
# ============================================================================

# NextAuth.js
# For Docker Compose (default when running with docker-compose):
NEXTAUTH_URL="http://10.0.10.57:8301"
# For local development (outside Docker):
# NEXTAUTH_URL="http://localhost:3000"
# For Docker Compose (from host machine):
# NEXTAUTH_URL="http://localhost:8301"
NEXTAUTH_SECRET="your-secure-nextauth-secret-key-at-least-32-chars-long"

# Database (PostgreSQL)
# For Docker Compose (default when running with docker-compose, inside container):
DATABASE_URL="postgres://postgres:postgres@postgres-db:5432/postgres"
# For local development (outside Docker):
# DATABASE_URL="postgres://postgres:postgres@localhost:54322/postgres"
# For Docker Compose (from host machine):
# DATABASE_URL="postgres://postgres:postgres@localhost:8303/postgres"
# For Docker Compose (remote access):
# DATABASE_URL="postgres://postgres:postgres@10.0.10.57:8303/postgres"

# PostgreSQL connection details (used by docker-compose)
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="postgres"
POSTGRES_DB="postgres"

# PostgREST API (External REST API)
# For Docker Compose (default when running with docker-compose, remote access):
NEXT_PUBLIC_API_URL="http://10.0.10.57:8302"
# For local development (outside Docker):
# NEXT_PUBLIC_API_URL="http://localhost:3001"
# For Docker Compose (from host machine):
# NEXT_PUBLIC_API_URL="http://localhost:8302"
# JWT secret for PostgREST (generate with: openssl rand -base64 32)
# Leave empty for development (API key auth only)
PGRST_JWT_SECRET=""

# MinIO (S3 compatible)
# For Docker Compose (default when running with docker-compose, inside container):
MINIO_ENDPOINT="minio"
MINIO_PORT="9000"
# For local development (outside Docker):
# MINIO_ENDPOINT="localhost"
# MINIO_PORT="9000"
# For Docker Compose (from host machine):
# MINIO_ENDPOINT="localhost"
# MINIO_PORT="8304"
# For Docker Compose (remote access):
# MINIO_ENDPOINT="10.0.10.57"
# MINIO_PORT="8304"
# MinIO Console URLs:
#   From host machine: http://localhost:8305
#   Remote access: http://10.0.10.57:8305
MINIO_ACCESS_KEY="minioadmin"
MINIO_SECRET_KEY="minioadmin"

# AWS S3 - Production
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_SESSION_TOKEN="your-aws-session-token" # Optional, for temporary credentials
AWS_S3_BUCKET="studio-production"

# S3 Configuration
S3_ENDPOINT="" # Leave empty for AWS S3, set for MinIO or other S3-compatible services
S3_FORCE_PATH_STYLE="false" # Set to "true" for MinIO

# OAuth Providers
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Azure AD (for SSO)
AZURE_AD_CLIENT_ID="your-azure-client-id"
AZURE_AD_CLIENT_SECRET="your-azure-client-secret"
AZURE_AD_TENANT_ID="your-azure-tenant-id"

# Application Settings
NEXT_PUBLIC_APP_NAME="Unified Data Platform"
NEXT_PUBLIC_APP_LOGO="/logo.png"
NEXT_PUBLIC_PRIMARY_COLOR="#1e40af"
NEXT_PUBLIC_SECONDARY_COLOR="#64748b"

# Session settings
# Default session timeout in hours if not set in system_settings (key: sessionTimeout)
SESSION_TIMEOUT_HOURS="24"

# File Upload
MAX_FILE_SIZE="10485760" # 10MB
UPLOAD_DIR="./uploads"

# SMTP Configuration for Email Invitations
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_FROM="your-email@gmail.com"

# Encryption Key for API Keys and Sensitive Data
# Generate a secure random key: openssl rand -hex 32
# This key is used to encrypt API keys stored in the database
# IMPORTANT: Keep this key secure and never commit it to version control
# Example (do not use): ENCRYPTION_KEY="00112233445566778899aabbccddeeff00112233445566778899aabbccddeeff"
ENCRYPTION_KEY=""

# HashiCorp Vault Configuration
# Set to 'true' to use Vault for secret management instead of database encryption
USE_VAULT=${USE_VAULT:-false}
# For Docker Compose (default when running with docker-compose, inside container):
VAULT_ADDR="http://vault:8200"
# For local development:
# VAULT_ADDR="http://localhost:8200"
# For Docker Compose (from host machine):
# VAULT_ADDR="http://localhost:8306"
# For Docker Compose (remote access):
# VAULT_ADDR="http://10.0.10.57:8306"
VAULT_ROOT_TOKEN=${VAULT_ROOT_TOKEN:-dev-root-token}
VAULT_TOKEN=${VAULT_ROOT_TOKEN:-dev-root-token}  # Alias for compatibility
VAULT_NAMESPACE=${VAULT_NAMESPACE:-}
# Vault mount path for secrets (default: secret)
VAULT_SECRET_MOUNT=${VAULT_SECRET_MOUNT:-secret}

# Plugin Hub Settings
USE_PLUGIN_HUB="false"
PLUGIN_HUB_URL="http://plugin-hub:3001"
MAIN_APP_URL="http://app:8301"

# Langfuse Observability (Optional)
# Get your keys from https://cloud.langfuse.com or your self-hosted instance
# Leave empty to disable observability
LANGFUSE_PUBLIC_KEY=""
LANGFUSE_SECRET_KEY=""
LANGFUSE_HOST="https://cloud.langfuse.com"  # Use your self-hosted URL if applicable

# Redis Configuration (Optional)
# For production, use Redis for distributed rate limiting and caching
# Leave empty to use in-memory store (single instance only)
# Format: redis://[:password@]host[:port][/db-number]
# For Docker Compose (default when running with docker-compose, inside container):
REDIS_URL="redis://redis:6379"
# For local development (outside Docker):
# REDIS_URL="redis://localhost:6379"
# For Docker Compose (from host machine):
# REDIS_URL="redis://localhost:8307"
# For Docker Compose (remote access):
# REDIS_URL="redis://10.0.10.57:8307"

# WebSocket Proxy Configuration (for OpenAI Realtime API)
# Server-side configuration (used by WebSocket proxy server)
# For Docker Compose (default when running with docker-compose, remote access):
WS_PROXY_PORT="3002"
WS_PROXY_URL="ws://10.0.10.57:3002/api/openai-realtime"
# For local development (outside Docker):
# WS_PROXY_PORT="3002"
# WS_PROXY_URL="ws://localhost:3002/api/openai-realtime"
# For Docker Compose (from host machine):
# WS_PROXY_PORT="3002"
# WS_PROXY_URL="ws://localhost:3002/api/openai-realtime"

# Client-side WebSocket configuration (NEXT_PUBLIC_* variables are exposed to browser)
# For Docker Compose (default when running with docker-compose, remote access):
NEXT_PUBLIC_WS_PROXY_URL="ws://10.0.10.57:3002/api/openai-realtime"
NEXT_PUBLIC_WS_PROXY_PORT="3002"
# For local development (outside Docker):
# NEXT_PUBLIC_WS_PROXY_URL="ws://localhost:3002/api/openai-realtime"
# NEXT_PUBLIC_WS_PROXY_PORT="3002"
# For Docker Compose (from host machine):
# NEXT_PUBLIC_WS_PROXY_URL="ws://localhost:3002/api/openai-realtime"
# NEXT_PUBLIC_WS_PROXY_PORT="3002"
