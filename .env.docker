# ==========================================
# DOCKER COMPOSE CONFIGURATION (.env)
# ==========================================

# --- APPLICATION SETTINGS ---
NODE_ENV=production
NEXT_PUBLIC_APP_NAME="Unified Data Platform"
NEXT_PUBLIC_APP_LOGO="/logo.png"

# --- AUTHENTICATION ---
# URL where the app is accessible to the browser
NEXTAUTH_URL=http://10.0.10.57:8301
# Needs to be at least 32 characters
NEXTAUTH_SECRET=change_me_to_a_secure_random_string_at_least_32_chars
# Encryption key for sensitive data (64-char hex)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=00112233445566778899aabbccddeeff00112233445566778899aabbccddeeff

# --- DATABASE (Internal Docker Network) ---
# Connects to 'postgres-db' service defined in docker-compose.yml
DATABASE_URL=postgres://postgres:postgres@postgres-db:5432/postgres

# --- POSTGRES SERVER CONFIG (for container init) ---
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=postgres

# --- EXTERNAL APIs (Browser Access) ---
# This must be accessible from your browser
NEXT_PUBLIC_API_URL=http://10.0.10.57:8302

# --- STORAGE (MinIO) ---
# Internal communication
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
# S3 Config for AWS SDK
S3_ENDPOINT=http://minio:9000
S3_FORCE_PATH_STYLE=true
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
AWS_REGION=us-east-1
AWS_S3_BUCKET=storage

# --- REDIS (Caching) ---
REDIS_URL=redis://:redispassword@redis:6379

# --- VAULT (Secrets) ---
USE_VAULT=false
VAULT_ADDR=http://vault:8200
VAULT_ROOT_TOKEN=dev-root-token
VAULT_TOKEN=dev-root-token

# --- PLUGIN HUB ---
USE_PLUGIN_HUB=true
PLUGIN_HUB_URL=http://plugin-hub:3001
MAIN_APP_URL=http://app:8301

# --- OBSERVABILITY (Optional) ---
# Leave empty to disable
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=
LANGFUSE_HOST=http://10.0.10.57:3000

# --- WEBSOCKETS (OpenAI Realtime) ---
WS_PROXY_URL=ws://app:3002/api/openai-realtime
WS_PROXY_PORT=3002
NEXT_PUBLIC_WS_PROXY_URL=ws://10.0.10.57:3002/api/openai-realtime
NEXT_PUBLIC_WS_PROXY_PORT=3002
